<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="idea.css">
    <title>Idée Dev Club</title>
</head>
<body>
    <h1 class="top">Dev club</h1>
    <div class="eleve">
        <h1>Idée de projet</h1>
        <input type="text" placeholder="nom du projet " id="title">
        <input type="text" placeholder="Idée de Projet " id="project">
        <a href="index.html">Inscription</a>
    </div>
    <button id="confirm">Confirm</button>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-analytics.js";    
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
        apiKey: "AIzaSyCglg80rLNrgucGYWbdHLuoPN38XcGIHSg",
        authDomain: "inscription-devclub.firebaseapp.com",
        projectId: "inscription-devclub",
        storageBucket: "inscription-devclub.appspot.com",
        messagingSenderId: "603699642651",
        appId: "1:603699642651:web:ffe601d0e7068d35bc93be",
        measurementId: "G-F1DM08QBSQ"
        };
        
      
        import {getDatabase, ref, get, set, child, update, remove} from "https://www.gstatic.com/firebasejs/10.6.0/firebase-database.js";
      
        // Initialize Firebase
      
        const app = initializeApp(firebaseConfig);

        const db = getDatabase();
      
        const analytics = getAnalytics(app);

        const title = document.getElementById("title");
        const idea = document.getElementById("project");

        function InsertData(){
            set(ref(db, "Idée/"+ title.value), {
                title: title.value,
                Idea: idea.value
            })
            .then(() =>{
                alert("idée enregistré !");
            })
            .catch((error) => {
                alert("unsuccessfull , error" + error);
            });
        }

        const confirm = document.getElementById("confirm");
        

        confirm.addEventListener('click', InsertData)
    </script>
</body>
</html>